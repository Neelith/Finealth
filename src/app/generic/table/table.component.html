<table mat-table [dataSource]="entities$" class="table">
  <ng-container *ngFor="let column of columns" [matColumnDef]="column">
    <th mat-header-cell *matHeaderCellDef>{{ column }}</th>
    <td mat-cell *matCellDef="let element">
      <!-- Render the entity image cell only if the column name is 'entityImg' -->
      <ng-container *ngIf="column === 'entityImg'">
        <img
          class="entity-image"
          matListItemAvatar
          [src]="element.iconUrl"
          alt="entity icon"
        />
      </ng-container>
      <!-- Render the cell content if it's not the entity image or actions columns -->
      <ng-container *ngIf="column !== 'entityImg' && column !== 'actions'">
        {{ element[column] }}
      </ng-container>
      <!-- Render the actions column only if the column name is 'actions' -->
      <ng-container *ngIf="column === 'actions'">
        <button color="primary" mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button
            mat-menu-item
            aria-label="Edit button"
            (click)="onEditEntity(element)"
          >
            <mat-icon class="theme-color">settings</mat-icon>
            <span>Modifica</span>
          </button>
          <button
            mat-menu-item
            aria-label="Edit button"
            class="delete-button"
            (click)="onDeleteEntity(element)"
          >
            <mat-icon class="delete-color">delete</mat-icon>
            <span class="delete-color">Elimina</span>
          </button>
        </mat-menu>
      </ng-container>
    </td>
  </ng-container>

  <ng-container *ngIf="headerVisible"
    ><tr mat-header-row *matHeaderRowDef="columns"></tr
  ></ng-container>
  <tr mat-row *matRowDef="let row; columns: columns"></tr>

</table>
<!-- <mat-paginator
  [pageSizeOptions]="[10, 25, 50]"
  [pageSize]="10"
  showFirstLastButtons
></mat-paginator> -->
